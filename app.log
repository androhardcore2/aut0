2025-03-12 18:05:55,074 - INFO - Gemini API initialized successfully
2025-03-12 18:05:55,075 - INFO - ElevenLabs API initialized successfully
2025-03-12 18:05:55,076 - INFO - Starting Flask application
2025-03-12 18:05:55,111 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.17.0.2:8080
2025-03-12 18:05:55,111 - INFO - [33mPress CTRL+C to quit[0m
2025-03-12 18:05:55,112 - INFO -  * Restarting with stat
2025-03-12 18:05:55,698 - INFO - Gemini API initialized successfully
2025-03-12 18:05:55,698 - INFO - ElevenLabs API initialized successfully
2025-03-12 18:05:55,699 - INFO - Starting Flask application
2025-03-12 18:05:55,705 - WARNING -  * Debugger is active!
2025-03-12 18:05:55,705 - INFO -  * Debugger PIN: 724-864-215
2025-03-12 18:06:00,480 - INFO - Homepage accessed
2025-03-12 18:06:00,486 - INFO - 127.0.0.1 - - [12/Mar/2025 18:06:00] "GET / HTTP/1.1" 200 -
2025-03-12 18:06:07,927 - INFO - Generating text for prompt: bahasa sasak...
2025-03-12 18:06:07,996 - ERROR - Error in text generation: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-03-12 18:06:07,997 - INFO - 127.0.0.1 - - [12/Mar/2025 18:06:07] "[35m[1mPOST /generate-text HTTP/1.1[0m" 500 -
2025-03-12 18:06:17,016 - INFO - Generating text for prompt: bahasa Sasak...
2025-03-12 18:06:17,055 - ERROR - Error in text generation: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-03-12 18:06:17,056 - INFO - 127.0.0.1 - - [12/Mar/2025 18:06:17] "[35m[1mPOST /generate-text HTTP/1.1[0m" 500 -
2025-03-12 18:24:02,937 - INFO - Gemini API initialized successfully
2025-03-12 18:24:02,937 - INFO - ElevenLabs API initialized successfully
2025-03-12 18:24:02,941 - INFO - Starting Flask application
2025-03-12 18:24:03,015 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.17.0.2:8080
2025-03-12 18:24:03,016 - INFO - [33mPress CTRL+C to quit[0m
2025-03-12 18:24:03,018 - INFO -  * Restarting with stat
2025-03-12 18:24:03,840 - INFO - Gemini API initialized successfully
2025-03-12 18:24:03,841 - INFO - ElevenLabs API initialized successfully
2025-03-12 18:24:03,842 - INFO - Starting Flask application
2025-03-12 18:24:03,848 - WARNING -  * Debugger is active!
2025-03-12 18:24:03,849 - INFO -  * Debugger PIN: 724-864-215
2025-03-12 18:24:08,566 - INFO - Homepage accessed
2025-03-12 18:24:08,573 - INFO - 127.0.0.1 - - [12/Mar/2025 18:24:08] "GET / HTTP/1.1" 200 -
2025-03-12 18:24:23,542 - INFO - Generating text for prompt: indonesia dimana...
2025-03-12 18:24:24,567 - INFO - Text generated successfully
2025-03-12 18:24:24,568 - INFO - 127.0.0.1 - - [12/Mar/2025 18:24:24] "POST /generate-text HTTP/1.1" 200 -
2025-03-12 18:24:34,497 - INFO - Searching video for query: indonesia
2025-03-12 18:24:34,666 - INFO - Downloading video from: https://videos.pexels.com/video-files/2084684/2084684-uhd_2560_1440_30fps.mp4
2025-03-12 18:24:35,316 - INFO - Video downloaded successfully
2025-03-12 18:24:35,325 - INFO - 127.0.0.1 - - [12/Mar/2025 18:24:35] "POST /download-video HTTP/1.1" 200 -
2025-03-12 18:24:35,585 - INFO - Downloading file: temp_video.mp4
2025-03-12 18:24:35,679 - INFO - 127.0.0.1 - - [12/Mar/2025 18:24:35] "[35m[1mGET /download/temp_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:24:36,970 - INFO - Downloading file: temp_video.mp4
2025-03-12 18:24:36,971 - INFO - 127.0.0.1 - - [12/Mar/2025 18:24:36] "[35m[1mGET /download/temp_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:24:37,667 - INFO - Downloading file: temp_video.mp4
2025-03-12 18:24:37,668 - INFO - 127.0.0.1 - - [12/Mar/2025 18:24:37] "[35m[1mGET /download/temp_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:24:40,905 - INFO - Generating speech from text
2025-03-12 18:24:48,546 - INFO - Speech generated successfully
2025-03-12 18:24:48,546 - INFO - 127.0.0.1 - - [12/Mar/2025 18:24:48] "POST /generate-speech HTTP/1.1" 200 -
2025-03-12 18:24:48,796 - INFO - Downloading file: temp_audio.mp3
2025-03-12 18:24:48,797 - INFO - 127.0.0.1 - - [12/Mar/2025 18:24:48] "[35m[1mGET /download/temp_audio.mp3 HTTP/1.1[0m" 206 -
2025-03-12 18:24:50,839 - INFO - Downloading file: temp_audio.mp3
2025-03-12 18:24:50,840 - INFO - 127.0.0.1 - - [12/Mar/2025 18:24:50] "[35m[1mGET /download/temp_audio.mp3 HTTP/1.1[0m" 206 -
2025-03-12 18:24:51,089 - INFO - Downloading file: temp_audio.mp3
2025-03-12 18:24:51,090 - INFO - 127.0.0.1 - - [12/Mar/2025 18:24:51] "[35m[1mGET /download/temp_audio.mp3 HTTP/1.1[0m" 206 -
2025-03-12 18:24:57,558 - INFO - Starting video creation process
2025-03-12 18:24:57,558 - INFO - Loading video and audio files
2025-03-12 18:24:58,442 - INFO - Resizing video to 720p
2025-03-12 18:24:58,570 - INFO - Creating text overlays
2025-03-12 18:24:58,599 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpjr9n_icl.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmpki7i1lkq.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:24:58,613 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpq0cfc7xi.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmpx7js22i2.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:24:58,626 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmplznnprpf.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmpnlflenh_.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:24:58,640 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpvijbz2c1.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmpema4cp7_.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:24:58,649 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmptirkltsc.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmplayxydjx.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:24:58,649 - INFO - Combining video clips
2025-03-12 18:24:58,664 - INFO - Adding audio to video
2025-03-12 18:24:58,664 - INFO - Final video duration: 27.67 seconds
2025-03-12 18:24:58,664 - INFO - Exporting final video
2025-03-12 18:25:51,390 - WARNING - /usr/local/python/3.10.13/lib/python3.10/site-packages/moviepy/video/io/ffmpeg_reader.py:123: UserWarning: Warning: in file output/temp_video.mp4, 11059200 bytes wanted but 0 bytes read,at frame 829/830, at time 27.66/27.67 sec. Using the last valid frame instead.
  warnings.warn("Warning: in file %s, "%(self.filename)+

2025-03-12 18:25:51,468 - INFO - Cleaning up resources
2025-03-12 18:25:51,474 - INFO - Video creation completed successfully
2025-03-12 18:25:51,474 - INFO - 127.0.0.1 - - [12/Mar/2025 18:25:51] "POST /create-video HTTP/1.1" 200 -
2025-03-12 18:25:52,551 - INFO - Downloading file: final_video.mp4
2025-03-12 18:25:52,552 - INFO - 127.0.0.1 - - [12/Mar/2025 18:25:52] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:25:52,813 - INFO - Downloading file: final_video.mp4
2025-03-12 18:25:52,814 - INFO - 127.0.0.1 - - [12/Mar/2025 18:25:52] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:25:53,076 - INFO - Downloading file: final_video.mp4
2025-03-12 18:25:53,077 - INFO - 127.0.0.1 - - [12/Mar/2025 18:25:53] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:25:56,181 - INFO - Downloading file: final_video.mp4
2025-03-12 18:25:56,182 - INFO - 127.0.0.1 - - [12/Mar/2025 18:25:56] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:25:56,431 - INFO - Downloading file: final_video.mp4
2025-03-12 18:25:56,432 - INFO - 127.0.0.1 - - [12/Mar/2025 18:25:56] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:25:58,346 - INFO - Downloading file: final_video.mp4
2025-03-12 18:25:58,347 - INFO - 127.0.0.1 - - [12/Mar/2025 18:25:58] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:30:52,484 - INFO - Gemini API initialized successfully
2025-03-12 18:30:52,484 - INFO - ElevenLabs API initialized successfully
2025-03-12 18:30:52,486 - INFO - Starting Flask application
2025-03-12 18:30:52,498 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.17.0.2:8080
2025-03-12 18:30:52,498 - INFO - [33mPress CTRL+C to quit[0m
2025-03-12 18:30:52,499 - INFO -  * Restarting with stat
2025-03-12 18:30:53,071 - INFO - Gemini API initialized successfully
2025-03-12 18:30:53,072 - INFO - ElevenLabs API initialized successfully
2025-03-12 18:30:53,073 - INFO - Starting Flask application
2025-03-12 18:30:53,080 - WARNING -  * Debugger is active!
2025-03-12 18:30:53,080 - INFO -  * Debugger PIN: 724-864-215
2025-03-12 18:30:56,864 - INFO - Homepage accessed
2025-03-12 18:30:56,871 - INFO - 127.0.0.1 - - [12/Mar/2025 18:30:56] "GET / HTTP/1.1" 200 -
2025-03-12 18:31:10,600 - INFO - Generating text for prompt: keindahan lombok...
2025-03-12 18:31:16,140 - INFO - Text generated successfully
2025-03-12 18:31:16,141 - INFO - 127.0.0.1 - - [12/Mar/2025 18:31:16] "POST /generate-text HTTP/1.1" 200 -
2025-03-12 18:36:30,344 - INFO - Gemini API initialized successfully
2025-03-12 18:36:30,344 - INFO - ElevenLabs API initialized successfully
2025-03-12 18:36:30,346 - INFO - Starting Flask application
2025-03-12 18:36:30,397 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.17.0.2:8080
2025-03-12 18:36:30,397 - INFO - [33mPress CTRL+C to quit[0m
2025-03-12 18:36:30,397 - INFO -  * Restarting with stat
2025-03-12 18:36:30,980 - INFO - Gemini API initialized successfully
2025-03-12 18:36:30,980 - INFO - ElevenLabs API initialized successfully
2025-03-12 18:36:30,982 - INFO - Starting Flask application
2025-03-12 18:36:30,988 - WARNING -  * Debugger is active!
2025-03-12 18:36:30,988 - INFO -  * Debugger PIN: 724-864-215
2025-03-12 18:36:34,613 - INFO - Homepage accessed
2025-03-12 18:36:34,622 - INFO - 127.0.0.1 - - [12/Mar/2025 18:36:34] "GET / HTTP/1.1" 200 -
2025-03-12 18:36:44,486 - INFO - Generating text for prompt: apa itu rendang...
2025-03-12 18:36:47,534 - INFO - Text generated successfully
2025-03-12 18:36:47,535 - INFO - 127.0.0.1 - - [12/Mar/2025 18:36:47] "POST /generate-text HTTP/1.1" 200 -
2025-03-12 18:37:13,933 - INFO - Searching video for query: rendang
2025-03-12 18:37:14,292 - WARNING - No videos found in Pexels response
2025-03-12 18:37:14,294 - INFO - 127.0.0.1 - - [12/Mar/2025 18:37:14] "[33mPOST /download-video HTTP/1.1[0m" 404 -
2025-03-12 18:37:29,462 - INFO - Searching video for query: indonesian food
2025-03-12 18:37:29,791 - INFO - Downloading video from: https://videos.pexels.com/video-files/17377506/17377506-hd_1280_720_30fps.mp4
2025-03-12 18:37:30,240 - INFO - Video downloaded successfully
2025-03-12 18:37:30,245 - INFO - 127.0.0.1 - - [12/Mar/2025 18:37:30] "POST /download-video HTTP/1.1" 200 -
2025-03-12 18:37:30,511 - INFO - Downloading file: temp_video.mp4
2025-03-12 18:37:30,515 - INFO - 127.0.0.1 - - [12/Mar/2025 18:37:30] "[35m[1mGET /download/temp_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:37:30,940 - INFO - Downloading file: temp_video.mp4
2025-03-12 18:37:30,940 - INFO - 127.0.0.1 - - [12/Mar/2025 18:37:30] "[35m[1mGET /download/temp_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:37:31,193 - INFO - Downloading file: temp_video.mp4
2025-03-12 18:37:31,194 - INFO - 127.0.0.1 - - [12/Mar/2025 18:37:31] "[35m[1mGET /download/temp_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:37:36,071 - INFO - Generating speech from text
2025-03-12 18:37:58,129 - INFO - Generating speech from text
2025-03-12 18:38:13,065 - INFO - Speech generated successfully
2025-03-12 18:38:13,068 - INFO - 127.0.0.1 - - [12/Mar/2025 18:38:13] "POST /generate-speech HTTP/1.1" 200 -
2025-03-12 18:38:37,357 - INFO - Speech generated successfully
2025-03-12 18:38:37,357 - INFO - 127.0.0.1 - - [12/Mar/2025 18:38:37] "POST /generate-speech HTTP/1.1" 200 -
2025-03-12 18:38:37,655 - INFO - Downloading file: temp_audio.mp3
2025-03-12 18:38:37,659 - INFO - 127.0.0.1 - - [12/Mar/2025 18:38:37] "[35m[1mGET /download/temp_audio.mp3 HTTP/1.1[0m" 206 -
2025-03-12 18:38:43,026 - INFO - Downloading file: temp_audio.mp3
2025-03-12 18:38:43,027 - INFO - 127.0.0.1 - - [12/Mar/2025 18:38:43] "[35m[1mGET /download/temp_audio.mp3 HTTP/1.1[0m" 206 -
2025-03-12 18:38:43,281 - INFO - Downloading file: temp_audio.mp3
2025-03-12 18:38:43,282 - INFO - 127.0.0.1 - - [12/Mar/2025 18:38:43] "[35m[1mGET /download/temp_audio.mp3 HTTP/1.1[0m" 206 -
2025-03-12 18:38:50,287 - INFO - Starting video creation process
2025-03-12 18:38:50,287 - INFO - Loading video and audio files
2025-03-12 18:38:54,981 - INFO - Resizing video to 720p
2025-03-12 18:38:55,266 - INFO - Creating text overlays
2025-03-12 18:38:56,148 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmprdv_s7pj.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmpo416boje.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,163 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpju8vm6v1.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmp719j0ov3.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,184 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpgwmh_0ir.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmph_a7brxb.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,198 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpwcfzen4c.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmpqciq7ipx.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,212 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmp_4n5qf2p.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmpjobb_v61.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,226 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpxhljekbz.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmps3gs3qom.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,241 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpw0h6xyb1.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmpdgv3tmr4.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,257 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpgw7jlua_.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmpi_52b6hy.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,267 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpwb4su6xw.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmpoo90dia_.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,283 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmp5udxv5ic.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmprhebe31c.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,303 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpoqd6eyuv.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmp1avaxigy.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,313 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmp7tlkbbg9.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmpuxds0fji.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,329 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpw6fcpl52.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmpznd1c7u_.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,345 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmprnzzfrsh.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmptyakc93i.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,361 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpsbhhp7g8.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmp5ql2x0bg.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,379 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmp_hwove5d.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmp2f146ujo.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,393 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmppwyfts1d.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmpkizadbo7.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,403 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpezm1kbe0.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmp93loy34s.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:38:56,404 - INFO - Combining video clips
2025-03-12 18:38:56,466 - INFO - Adding audio to video
2025-03-12 18:38:56,467 - INFO - Final video duration: 5.24 seconds
2025-03-12 18:38:56,467 - INFO - Exporting final video
2025-03-12 18:38:58,104 - INFO - Cleaning up resources
2025-03-12 18:38:58,105 - INFO - Video creation completed successfully
2025-03-12 18:38:58,106 - INFO - 127.0.0.1 - - [12/Mar/2025 18:38:58] "POST /create-video HTTP/1.1" 200 -
2025-03-12 18:38:58,363 - INFO - Downloading file: final_video.mp4
2025-03-12 18:38:58,364 - INFO - 127.0.0.1 - - [12/Mar/2025 18:38:58] "GET /download/final_video.mp4 HTTP/1.1" 200 -
2025-03-12 18:38:58,615 - INFO - Downloading file: final_video.mp4
2025-03-12 18:38:58,616 - INFO - 127.0.0.1 - - [12/Mar/2025 18:38:58] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:38:58,872 - INFO - Downloading file: final_video.mp4
2025-03-12 18:38:58,873 - INFO - 127.0.0.1 - - [12/Mar/2025 18:38:58] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:38:59,125 - INFO - Downloading file: final_video.mp4
2025-03-12 18:38:59,126 - INFO - 127.0.0.1 - - [12/Mar/2025 18:38:59] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:39:00,311 - INFO - Downloading file: final_video.mp4
2025-03-12 18:39:00,312 - INFO - 127.0.0.1 - - [12/Mar/2025 18:39:00] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:39:00,563 - INFO - Downloading file: final_video.mp4
2025-03-12 18:39:00,564 - INFO - 127.0.0.1 - - [12/Mar/2025 18:39:00] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:39:04,560 - INFO - Downloading file: final_video.mp4
2025-03-12 18:39:04,561 - INFO - 127.0.0.1 - - [12/Mar/2025 18:39:04] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:39:22,412 - INFO - Downloading file: temp_audio.mp3
2025-03-12 18:39:22,412 - INFO - 127.0.0.1 - - [12/Mar/2025 18:39:22] "[35m[1mGET /download/temp_audio.mp3 HTTP/1.1[0m" 206 -
2025-03-12 18:41:35,919 - INFO -  * Detected change in '/project/sandbox/user-workspace/app.py', reloading
2025-03-12 18:41:38,508 - INFO -  * Restarting with stat
2025-03-12 18:41:40,216 - INFO - Gemini API initialized successfully
2025-03-12 18:41:40,216 - INFO - ElevenLabs API initialized successfully
2025-03-12 18:41:40,217 - INFO - Starting Flask application
2025-03-12 18:41:40,236 - WARNING -  * Debugger is active!
2025-03-12 18:41:40,236 - INFO -  * Debugger PIN: 724-864-215
2025-03-12 18:41:49,368 - INFO - Homepage accessed
2025-03-12 18:41:49,377 - INFO - 127.0.0.1 - - [12/Mar/2025 18:41:49] "GET / HTTP/1.1" 200 -
2025-03-12 18:41:59,251 - INFO - Generating text for prompt: makan sahur adalah...
2025-03-12 18:42:00,205 - INFO - Text generated successfully
2025-03-12 18:42:00,206 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:00] "POST /generate-text HTTP/1.1" 200 -
2025-03-12 18:42:06,351 - INFO - Searching landscape video for query: ramadhan
2025-03-12 18:42:06,623 - INFO - Downloading landscape video from: https://videos.pexels.com/video-files/5783005/5783005-sd_426_240_30fps.mp4
2025-03-12 18:42:06,718 - INFO - Video downloaded successfully
2025-03-12 18:42:06,722 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:06] "POST /download-video HTTP/1.1" 200 -
2025-03-12 18:42:06,979 - INFO - Downloading file: temp_video.mp4
2025-03-12 18:42:06,984 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:06] "[35m[1mGET /download/temp_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:42:07,420 - INFO - Downloading file: temp_video.mp4
2025-03-12 18:42:07,421 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:07] "[35m[1mGET /download/temp_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:42:07,677 - INFO - Downloading file: temp_video.mp4
2025-03-12 18:42:07,678 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:07] "[35m[1mGET /download/temp_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:42:10,291 - INFO - Generating speech from text
2025-03-12 18:42:15,070 - INFO - Speech generated successfully
2025-03-12 18:42:15,071 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:15] "POST /generate-speech HTTP/1.1" 200 -
2025-03-12 18:42:15,325 - INFO - Downloading file: temp_audio.mp3
2025-03-12 18:42:15,326 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:15] "[35m[1mGET /download/temp_audio.mp3 HTTP/1.1[0m" 206 -
2025-03-12 18:42:15,572 - INFO - Downloading file: temp_audio.mp3
2025-03-12 18:42:15,573 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:15] "[35m[1mGET /download/temp_audio.mp3 HTTP/1.1[0m" 206 -
2025-03-12 18:42:18,897 - INFO - Starting landscape video creation process
2025-03-12 18:42:18,897 - INFO - Loading video and audio files
2025-03-12 18:42:19,016 - INFO - Resizing video for landscape format
2025-03-12 18:42:19,054 - INFO - Creating text overlays
2025-03-12 18:42:19,069 - ERROR - Error creating text clip: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmpidxr5qmo.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmpi6s731jk.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-12 18:42:19,070 - INFO - Combining video clips
2025-03-12 18:42:19,106 - INFO - Adding audio to video
2025-03-12 18:42:19,106 - INFO - Final video duration: 10.39 seconds
2025-03-12 18:42:19,106 - INFO - Exporting final video
2025-03-12 18:42:25,415 - WARNING - /usr/local/python/3.10.13/lib/python3.10/site-packages/moviepy/video/io/ffmpeg_reader.py:123: UserWarning: Warning: in file output/temp_video.mp4, 306720 bytes wanted but 0 bytes read,at frame 310/312, at time 10.34/10.39 sec. Using the last valid frame instead.
  warnings.warn("Warning: in file %s, "%(self.filename)+

2025-03-12 18:42:25,463 - INFO - Cleaning up resources
2025-03-12 18:42:25,466 - INFO - Video creation completed successfully
2025-03-12 18:42:25,467 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:25] "POST /create-video HTTP/1.1" 200 -
2025-03-12 18:42:30,612 - INFO - Downloading file: final_video.mp4
2025-03-12 18:42:30,613 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:30] "GET /download/final_video.mp4 HTTP/1.1" 200 -
2025-03-12 18:42:30,865 - INFO - Downloading file: final_video.mp4
2025-03-12 18:42:30,866 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:30] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:42:31,134 - INFO - Downloading file: final_video.mp4
2025-03-12 18:42:31,135 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:31] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:42:31,391 - INFO - Downloading file: final_video.mp4
2025-03-12 18:42:31,392 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:31] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:42:33,418 - INFO - Downloading file: final_video.mp4
2025-03-12 18:42:33,419 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:33] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:42:33,674 - INFO - Downloading file: final_video.mp4
2025-03-12 18:42:33,675 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:33] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:42:36,113 - INFO - Downloading file: final_video.mp4
2025-03-12 18:42:36,114 - INFO - 127.0.0.1 - - [12/Mar/2025 18:42:36] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-12 18:44:02,132 - INFO - Homepage accessed
2025-03-12 18:44:02,136 - INFO - 127.0.0.1 - - [12/Mar/2025 18:44:02] "GET / HTTP/1.1" 200 -
2025-03-12 18:44:08,882 - INFO - Homepage accessed
2025-03-12 18:44:08,883 - INFO - 127.0.0.1 - - [12/Mar/2025 18:44:08] "GET / HTTP/1.1" 200 -
2025-03-12 18:46:50,715 - INFO - Homepage accessed
2025-03-12 18:46:50,719 - INFO - 127.0.0.1 - - [12/Mar/2025 18:46:50] "GET / HTTP/1.1" 200 -
2025-03-12 18:59:31,509 - INFO -  * Detected change in '/project/sandbox/user-workspace/app.py', reloading
2025-03-12 18:59:33,673 - INFO -  * Restarting with stat
2025-03-12 18:59:34,267 - INFO - Gemini API initialized successfully
2025-03-12 18:59:34,267 - INFO - ElevenLabs API initialized successfully
2025-03-12 18:59:34,271 - INFO - Starting Flask application
2025-03-12 18:59:34,277 - WARNING -  * Debugger is active!
2025-03-12 18:59:34,277 - INFO -  * Debugger PIN: 724-864-215
2025-03-12 19:00:01,639 - INFO - Homepage accessed
2025-03-12 19:00:01,646 - INFO - 127.0.0.1 - - [12/Mar/2025 19:00:01] "GET / HTTP/1.1" 200 -
2025-03-12 20:09:02,707 - INFO - Homepage accessed
2025-03-12 20:09:02,741 - INFO - 127.0.0.1 - - [12/Mar/2025 20:09:02] "GET / HTTP/1.1" 200 -
2025-03-13 05:30:54,030 - INFO - Gemini API initialized successfully
2025-03-13 05:30:54,031 - INFO - ElevenLabs API initialized successfully
2025-03-13 05:30:54,034 - INFO - Starting Flask application
2025-03-13 05:32:55,604 - INFO -  * Detected change in '/project/sandbox/user-workspace/app.py', reloading
2025-03-13 05:32:56,059 - INFO -  * Restarting with stat
2025-03-13 05:40:15,742 - ERROR - Failed to initialize Gemini model: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-03-13 05:40:15,748 - ERROR - Traceback (most recent call last):
  File "/project/sandbox/user-workspace/app.py", line 53, in initialize_gemini
    test_response = model.generate_content("Hello")
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/generativeai/generative_models.py", line 243, in generate_content
    response = self._client.generate_content(request)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]

2025-03-13 05:40:15,749 - ERROR - Failed to initialize Gemini - text generation will be unavailable
2025-03-13 05:40:15,749 - INFO - ElevenLabs initialized successfully
2025-03-13 05:40:15,753 - INFO - Starting Flask application
2025-03-13 05:40:15,775 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.17.0.2:8080
2025-03-13 05:40:15,775 - INFO - [33mPress CTRL+C to quit[0m
2025-03-13 05:40:15,778 - INFO -  * Restarting with stat
2025-03-13 05:40:16,503 - ERROR - Failed to initialize Gemini model: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-03-13 05:40:16,505 - ERROR - Traceback (most recent call last):
  File "/project/sandbox/user-workspace/app.py", line 53, in initialize_gemini
    test_response = model.generate_content("Hello")
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/generativeai/generative_models.py", line 243, in generate_content
    response = self._client.generate_content(request)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]

2025-03-13 05:40:16,506 - ERROR - Failed to initialize Gemini - text generation will be unavailable
2025-03-13 05:40:16,506 - INFO - ElevenLabs initialized successfully
2025-03-13 05:40:16,509 - INFO - Starting Flask application
2025-03-13 05:40:16,521 - WARNING -  * Debugger is active!
2025-03-13 05:40:16,522 - INFO -  * Debugger PIN: 724-864-215
2025-03-13 05:40:20,754 - INFO - 127.0.0.1 - - [13/Mar/2025 05:40:20] "GET / HTTP/1.1" 200 -
2025-03-13 05:48:46,901 - ERROR - Failed to initialize Gemini model: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-03-13 05:48:46,903 - ERROR - Traceback (most recent call last):
  File "/project/sandbox/user-workspace/app.py", line 53, in initialize_gemini
    test_response = model.generate_content("Hello")
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/generativeai/generative_models.py", line 243, in generate_content
    response = self._client.generate_content(request)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]

2025-03-13 05:48:46,903 - ERROR - Failed to initialize Gemini - text generation will be unavailable
2025-03-13 05:48:46,903 - INFO - ElevenLabs initialized successfully
2025-03-13 05:48:46,905 - INFO - Starting Flask application
2025-03-13 05:48:46,920 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.17.0.2:8080
2025-03-13 05:48:46,920 - INFO - [33mPress CTRL+C to quit[0m
2025-03-13 05:48:46,921 - INFO -  * Restarting with stat
2025-03-13 05:48:47,675 - ERROR - Failed to initialize Gemini model: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-03-13 05:48:47,677 - ERROR - Traceback (most recent call last):
  File "/project/sandbox/user-workspace/app.py", line 53, in initialize_gemini
    test_response = model.generate_content("Hello")
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/generativeai/generative_models.py", line 243, in generate_content
    response = self._client.generate_content(request)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]

2025-03-13 05:48:47,677 - ERROR - Failed to initialize Gemini - text generation will be unavailable
2025-03-13 05:48:47,677 - INFO - ElevenLabs initialized successfully
2025-03-13 05:48:47,679 - INFO - Starting Flask application
2025-03-13 05:48:47,685 - WARNING -  * Debugger is active!
2025-03-13 05:48:47,685 - INFO -  * Debugger PIN: 724-864-215
2025-03-13 05:48:51,668 - INFO - 127.0.0.1 - - [13/Mar/2025 05:48:51] "GET / HTTP/1.1" 200 -
2025-03-13 05:48:58,900 - INFO - Generating text for prompt: indonesia indah...
2025-03-13 05:48:58,916 - ERROR - Error in generate_text: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]
2025-03-13 05:48:58,917 - ERROR - Traceback (most recent call last):
  File "/project/sandbox/user-workspace/app.py", line 137, in generate_text
    response = model.generate_content(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/generativeai/generative_models.py", line 243, in generate_content
    response = self._client.generate_content(request)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key not valid. Please pass a valid API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key not valid. Please pass a valid API key."
]

2025-03-13 05:48:58,917 - INFO - 127.0.0.1 - - [13/Mar/2025 05:48:58] "[35m[1mPOST /generate-text HTTP/1.1[0m" 500 -
2025-03-13 05:49:42,185 - ERROR - Failed to initialize Gemini model: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-03-13 05:49:42,188 - ERROR - Traceback (most recent call last):
  File "/project/sandbox/user-workspace/app.py", line 53, in initialize_gemini
    test_response = model.generate_content("Hello")
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/generativeai/generative_models.py", line 243, in generate_content
    response = self._client.generate_content(request)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.

2025-03-13 05:49:42,188 - ERROR - Failed to initialize Gemini - text generation will be unavailable
2025-03-13 05:49:42,188 - INFO - ElevenLabs initialized successfully
2025-03-13 05:49:42,192 - INFO - Starting Flask application
2025-03-13 05:49:42,291 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.17.0.2:8080
2025-03-13 05:49:42,292 - INFO - [33mPress CTRL+C to quit[0m
2025-03-13 05:49:42,293 - INFO -  * Restarting with stat
2025-03-13 05:49:43,004 - ERROR - Failed to initialize Gemini model: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-03-13 05:49:43,006 - ERROR - Traceback (most recent call last):
  File "/project/sandbox/user-workspace/app.py", line 53, in initialize_gemini
    test_response = model.generate_content("Hello")
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/generativeai/generative_models.py", line 243, in generate_content
    response = self._client.generate_content(request)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.

2025-03-13 05:49:43,006 - ERROR - Failed to initialize Gemini - text generation will be unavailable
2025-03-13 05:49:43,006 - INFO - ElevenLabs initialized successfully
2025-03-13 05:49:43,008 - INFO - Starting Flask application
2025-03-13 05:49:43,017 - WARNING -  * Debugger is active!
2025-03-13 05:49:43,017 - INFO -  * Debugger PIN: 724-864-215
2025-03-13 05:49:48,527 - INFO - 127.0.0.1 - - [13/Mar/2025 05:49:48] "GET / HTTP/1.1" 200 -
2025-03-13 05:49:56,656 - INFO - Generating text for prompt: rumah makan...
2025-03-13 05:49:56,691 - ERROR - Error in generate_text: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.
2025-03-13 05:49:56,691 - ERROR - Traceback (most recent call last):
  File "/project/sandbox/user-workspace/app.py", line 137, in generate_text
    response = model.generate_content(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/generativeai/generative_models.py", line 243, in generate_content
    response = self._client.generate_content(request)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content
    response = rpc(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "/usr/local/python/3.10.13/lib/python3.10/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.NotFound: 404 models/gemini-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.

2025-03-13 05:49:56,692 - INFO - 127.0.0.1 - - [13/Mar/2025 05:49:56] "[35m[1mPOST /generate-text HTTP/1.1[0m" 500 -
2025-03-13 05:50:50,291 - INFO -  * Detected change in '/project/sandbox/user-workspace/app.py', reloading
2025-03-13 05:50:57,765 - INFO - Gemini model initialized and tested successfully
2025-03-13 05:50:57,765 - INFO - ElevenLabs initialized successfully
2025-03-13 05:50:57,770 - INFO - Starting Flask application
2025-03-13 05:50:57,819 - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8080
 * Running on http://172.17.0.2:8080
2025-03-13 05:50:57,819 - INFO - [33mPress CTRL+C to quit[0m
2025-03-13 05:50:57,820 - INFO -  * Restarting with stat
2025-03-13 05:50:58,783 - INFO - Gemini model initialized and tested successfully
2025-03-13 05:50:58,784 - INFO - ElevenLabs initialized successfully
2025-03-13 05:50:58,788 - INFO - Starting Flask application
2025-03-13 05:50:58,801 - WARNING -  * Debugger is active!
2025-03-13 05:50:58,802 - INFO -  * Debugger PIN: 724-864-215
2025-03-13 05:51:03,296 - INFO - 127.0.0.1 - - [13/Mar/2025 05:51:03] "GET / HTTP/1.1" 200 -
2025-03-13 05:51:12,974 - INFO - Generating text for prompt: solat zuhur...
2025-03-13 05:51:20,258 - INFO - Text generated successfully
2025-03-13 05:51:20,258 - INFO - 127.0.0.1 - - [13/Mar/2025 05:51:20] "POST /generate-text HTTP/1.1" 200 -
2025-03-13 05:51:58,805 - INFO - Searching for portrait video: shalat
2025-03-13 05:51:59,100 - ERROR - Error in download_video: No videos found
2025-03-13 05:51:59,101 - ERROR - Traceback (most recent call last):
  File "/project/sandbox/user-workspace/app.py", line 207, in download_video
    raise Exception("No videos found")
Exception: No videos found

2025-03-13 05:51:59,103 - INFO - 127.0.0.1 - - [13/Mar/2025 05:51:59] "[35m[1mPOST /download-video HTTP/1.1[0m" 500 -
2025-03-13 05:52:10,723 - INFO - Searching for portrait video: solat
2025-03-13 05:52:10,973 - INFO - Downloading video from: https://videos.pexels.com/video-files/8853484/8853484-hd_720_1280_24fps.mp4
2025-03-13 05:52:11,046 - INFO - Video downloaded successfully
2025-03-13 05:52:11,050 - INFO - 127.0.0.1 - - [13/Mar/2025 05:52:11] "POST /download-video HTTP/1.1" 200 -
2025-03-13 05:52:11,353 - INFO - 127.0.0.1 - - [13/Mar/2025 05:52:11] "[35m[1mGET /download/temp_video.mp4 HTTP/1.1[0m" 206 -
2025-03-13 05:52:11,764 - INFO - 127.0.0.1 - - [13/Mar/2025 05:52:11] "[35m[1mGET /download/temp_video.mp4 HTTP/1.1[0m" 206 -
2025-03-13 05:52:12,014 - INFO - 127.0.0.1 - - [13/Mar/2025 05:52:12] "[35m[1mGET /download/temp_video.mp4 HTTP/1.1[0m" 206 -
2025-03-13 05:52:18,908 - INFO - Searching for portrait video: masjid
2025-03-13 05:52:19,506 - INFO - Downloading video from: https://videos.pexels.com/video-files/20347202/20347202-uhd_1440_2560_25fps.mp4
2025-03-13 05:52:19,725 - INFO - Video downloaded successfully
2025-03-13 05:52:19,728 - INFO - 127.0.0.1 - - [13/Mar/2025 05:52:19] "POST /download-video HTTP/1.1" 200 -
2025-03-13 05:52:26,088 - INFO - Searching for portrait video: masjid
2025-03-13 05:52:26,207 - INFO - Downloading video from: https://videos.pexels.com/video-files/20347202/20347202-uhd_1440_2560_25fps.mp4
2025-03-13 05:52:26,440 - INFO - Video downloaded successfully
2025-03-13 05:52:26,444 - INFO - 127.0.0.1 - - [13/Mar/2025 05:52:26] "POST /download-video HTTP/1.1" 200 -
2025-03-13 05:52:33,632 - INFO - Generating speech from text
2025-03-13 05:52:41,939 - INFO - Speech generated successfully
2025-03-13 05:52:41,939 - INFO - 127.0.0.1 - - [13/Mar/2025 05:52:41] "POST /generate-speech HTTP/1.1" 200 -
2025-03-13 05:52:42,193 - INFO - 127.0.0.1 - - [13/Mar/2025 05:52:42] "[35m[1mGET /download/temp_audio.mp3 HTTP/1.1[0m" 206 -
2025-03-13 05:52:49,321 - INFO - 127.0.0.1 - - [13/Mar/2025 05:52:49] "[35m[1mGET /download/temp_audio.mp3 HTTP/1.1[0m" 206 -
2025-03-13 05:52:50,029 - INFO - 127.0.0.1 - - [13/Mar/2025 05:52:50] "[35m[1mGET /download/temp_audio.mp3 HTTP/1.1[0m" 206 -
2025-03-13 05:52:55,366 - INFO - Starting video creation process
2025-03-13 05:52:56,317 - ERROR - Background music processing failed: MoviePy error: the file static/music/background.mp3 could not be found!
Please check that you entered the correct path.
2025-03-13 05:52:56,452 - ERROR - Error creating text overlay: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmp82fk04xk.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmp3tczk6jb.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-13 05:52:56,467 - ERROR - Error creating text overlay: MoviePy Error: creation of None failed because of the following error:

convert-im6.q16: attempt to perform an operation not allowed by the security policy `@/tmp/tmp3vk2kjgt.txt' @ error/property.c/InterpretImageProperties/3668.
convert-im6.q16: no images defined `PNG32:/tmp/tmp9qq0o0fx.png' @ error/convert.c/ConvertImageCommand/3258.
.

.This error can be due to the fact that ImageMagick is not installed on your computer, or (for Windows users) that you didn't specify the path to the ImageMagick binary in file conf.py, or that the path you specified is incorrect
2025-03-13 05:53:30,937 - INFO - Video created successfully
2025-03-13 05:53:30,938 - INFO - 127.0.0.1 - - [13/Mar/2025 05:53:30] "POST /create-video HTTP/1.1" 200 -
2025-03-13 05:53:31,666 - INFO - 127.0.0.1 - - [13/Mar/2025 05:53:31] "GET /download/final_video.mp4 HTTP/1.1" 200 -
2025-03-13 05:53:31,915 - INFO - 127.0.0.1 - - [13/Mar/2025 05:53:31] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-13 05:53:32,167 - INFO - 127.0.0.1 - - [13/Mar/2025 05:53:32] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-13 05:53:32,419 - INFO - 127.0.0.1 - - [13/Mar/2025 05:53:32] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-13 05:53:40,260 - INFO - 127.0.0.1 - - [13/Mar/2025 05:53:40] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-13 05:53:40,509 - INFO - 127.0.0.1 - - [13/Mar/2025 05:53:40] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
2025-03-13 05:53:44,060 - INFO - 127.0.0.1 - - [13/Mar/2025 05:53:44] "[35m[1mGET /download/final_video.mp4 HTTP/1.1[0m" 206 -
